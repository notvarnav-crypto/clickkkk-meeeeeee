<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>My Love Letter ðŸ’Œ</title>

<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
<link rel="stylesheet" href="style.css">

<style>
body {
    text-align: center;
    padding-top: 8vh;
}

#letterContainer {
    display: none;
    width: 80%;
    margin: 30px auto;
    background: white;
    color: #ff2e88;
    padding: 30px;
    border: 4px solid #ff2e88;
    box-shadow: 0 0 20px pink;
}

.highlight {
    color: red;
}

#continueBtn {
    display: none;
    margin-top: 20px;
}

#secretMsg {
    display: none;
    margin-top: 20px;
    font-size: 0.7rem;
    color: purple;
}
</style>
</head>

<body class="fade-in">

<h1 class="glow">A Letter For You ðŸ’–</h1>

<div class="envelope" id="envelope" onclick="openLetter()">
    <p style="padding-top:80px;">Click To Open ðŸ’Œ</p>
</div>

<div id="letterContainer">
    <p id="typeText" class="typewriter"></p>

    <br>
    <p id="signature"></p>

    <button class="pixel-btn" id="continueBtn" onclick="goToFinale()">
        Continue ðŸ’˜
    </button>

    <p id="secretMsg">ðŸ’Ž Secret: You are my favorite person in every universe.</p>
</div>

<script src="script.js"></script>

<script>
const name = localStorage.getItem("valentineName") || "My Love";
const envelope = document.getElementById("envelope");
const letterContainer = document.getElementById("letterContainer");
const typeText = document.getElementById("typeText");
const signature = document.getElementById("signature");
const continueBtn = document.getElementById("continueBtn");
const secretMsg = document.getElementById("secretMsg");

const letterContent =
`Merii ${name},

First of all this isnt even enough for you ikk,
but deal with blehhhh , hmmm love letter me ky likhten hei, ok.

You know how much you matter to?.
Just by talking to my mood lighten ups ahh.
I love youuuuu sooooo muchhhhh mwahhh.

Beaware of me, i might bite youu on sightt uff â€”
you are mine forever and everrrr, and you belongggg too meee onlyyyy.

Happy Valentine's Week ðŸ’–`;

function openLetter() {
    envelope.style.display = "none";
    letterContainer.style.display = "block";

    typeWriter(typeText, letterContent, 40);

    setTimeout(() => {
        signature.innerHTML = "<br><span class='highlight'>With All My Love,</span><br>Yours Forever ðŸ’˜";
        continueBtn.style.display = "inline-block";
    }, 6000);
}

/* Secret Message */
letterContainer.addEventListener("dblclick", () => {
    secretMsg.style.display = "block";
    confettiBurst();
});

/* Go to Finale */
function goToFinale() {
    window.location.href = "finale.html";
}
</script>

</body>
</html>
