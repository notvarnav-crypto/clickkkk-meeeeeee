<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Prove Your Love ðŸ’–</title>

<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
<link rel="stylesheet" href="style.css">

<style>
body {
    text-align: center;
    padding-top: 10vh;
}

#gameArea {
    position: relative;
    width: 100%;
    height: 60vh;
    overflow: hidden;
}

.clickHeart {
    position: absolute;
    font-size: 30px;
    cursor: pointer;
    animation: floatRandom 4s linear infinite;
}

@keyframes floatRandom {
    0% { transform: translateY(0); }
    50% { transform: translateY(-50px); }
    100% { transform: translateY(0); }
}

#unlockBtn {
    display: none;
    margin-top: 30px;
}
</style>
</head>

<body class="fade-in">

<h1 class="glow" id="gameGreeting"></h1>

<div id="loveMeterContainer">
    <div id="loveMeter"></div>
</div>

<p>Catch 10 Hearts To Unlock The Love Letter ðŸ’Œ</p>

<div id="gameArea"></div>

<button class="pixel-btn" id="unlockBtn" onclick="goToLetter()">
    Unlock Love Letter ðŸ’–
</button>

<script src="script.js"></script>

<script>
const name = localStorage.getItem("valentineName") || "Beautiful";
document.getElementById("gameGreeting").textContent =
    name + ", Catch My Love ðŸ’˜";

let heartsClicked = 0;
const gameArea = document.getElementById("gameArea");
const unlockBtn = document.getElementById("unlockBtn");

/* Spawn Clickable Hearts */
function spawnClickableHeart() {
    const heart = document.createElement("div");
    heart.className = "clickHeart";
    heart.innerHTML = "ðŸ’–";

    heart.style.left = Math.random() * 90 + "%";
    heart.style.top = Math.random() * 80 + "%";

    heart.addEventListener("click", () => {
        heart.remove();
        heartsClicked++;
        increaseLove(7);

        if (heartsClicked >= 10) {
            completeGame();
        }
    });

    gameArea.appendChild(heart);

    setTimeout(() => heart.remove(), 4000);
}

setInterval(spawnClickableHeart, 800);

/* Game Complete */
function completeGame() {
    confettiBurst();
    fireworks();
    unlockBtn.style.display = "inline-block";
}

/* Go to Letter */
function goToLetter() {
    window.location.href = "letter.html";
}
</script>

</body>
</html>
